{"uid":"fdf4638eb485e9ad","name":"Validate Council Output [EastSuffolkCouncil-http://selenium:4444-local]","fullName":"features/validate_council_outputs.feature:Validate Council Output","historyId":"0d1d651eff84630c7995a9924409d0e0","time":{"start":1701220769982,"stop":1701220785480,"duration":15498},"status":"failed","statusMessage":"selenium.common.exceptions.NoSuchElementException: Message: Cannot locate option with value: 10093544720; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception","statusTrace":"fixturefunc = <function scrape_step at 0x7f093824e680>\nrequest = <FixtureRequest for <Function test_scenario_outline[EastSuffolkCouncil-http://selenium:4444-local]>>\nkwargs = {'context': <test_validate_council.context.<locals>.Context object at 0x7f0924727d00>, 'council': 'EastSuffolkCouncil', 'selenium_mode': 'local', 'selenium_url': 'http://selenium:4444'}\n\n    def call_fixture_func(\n        fixturefunc: \"_FixtureFunc[FixtureValue]\", request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.10/lib/python3.10/site-packages/_pytest/fixtures.py:902: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nuk_bin_collection/tests/step_defs/test_validate_council.py:75: in scrape_step\n    raise (err)\nuk_bin_collection/tests/step_defs/test_validate_council.py:71: in scrape_step\n    context.parse_result = CollectData.run()\nuk_bin_collection/uk_bin_collection/collect_data.py:78: in run\n    return self.client_code(\nuk_bin_collection/uk_bin_collection/collect_data.py:65: in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:71: in template_method\n    bin_data_dict = self.parse_data(\nuk_bin_collection/uk_bin_collection/councils/EastSuffolkCouncil.py:57: in parse_data\n    address.select_by_value(user_uprn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.select.Select object at 0x7f09264f9240>\nvalue = '10093544720'\n\n    def select_by_value(self, value: str) -> None:\n        \"\"\"Select all options that have a value matching the argument. That is,\n        when given \"foo\" this would select an option like:\n    \n        <option value=\"foo\">Bar</option>\n    \n        :Args:\n         - value - The value to match against\n    \n        throws NoSuchElementException If there is no option with specified value in SELECT\n        \"\"\"\n        css = f\"option[value ={self._escape_string(value)}]\"\n        opts = self._el.find_elements(By.CSS_SELECTOR, css)\n        matched = False\n        for opt in opts:\n            self._set_selected(opt)\n            if not self.is_multiple:\n                return\n            matched = True\n        if not matched:\n>           raise NoSuchElementException(f\"Cannot locate option with value: {value}\")\nE           selenium.common.exceptions.NoSuchElementException: Message: Cannot locate option with value: 10093544720; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.10/lib/python3.10/site-packages/selenium/webdriver/support/select.py:84: NoSuchElementException","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"selenium.common.exceptions.NoSuchElementException: Message: Cannot locate option with value: 10093544720; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception","statusTrace":"fixturefunc = <function scrape_step at 0x7f093824e680>\nrequest = <FixtureRequest for <Function test_scenario_outline[EastSuffolkCouncil-http://selenium:4444-local]>>\nkwargs = {'context': <test_validate_council.context.<locals>.Context object at 0x7f0924727d00>, 'council': 'EastSuffolkCouncil', 'selenium_mode': 'local', 'selenium_url': 'http://selenium:4444'}\n\n    def call_fixture_func(\n        fixturefunc: \"_FixtureFunc[FixtureValue]\", request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.10/lib/python3.10/site-packages/_pytest/fixtures.py:902: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nuk_bin_collection/tests/step_defs/test_validate_council.py:75: in scrape_step\n    raise (err)\nuk_bin_collection/tests/step_defs/test_validate_council.py:71: in scrape_step\n    context.parse_result = CollectData.run()\nuk_bin_collection/uk_bin_collection/collect_data.py:78: in run\n    return self.client_code(\nuk_bin_collection/uk_bin_collection/collect_data.py:65: in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:71: in template_method\n    bin_data_dict = self.parse_data(\nuk_bin_collection/uk_bin_collection/councils/EastSuffolkCouncil.py:57: in parse_data\n    address.select_by_value(user_uprn)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.select.Select object at 0x7f09264f9240>\nvalue = '10093544720'\n\n    def select_by_value(self, value: str) -> None:\n        \"\"\"Select all options that have a value matching the argument. That is,\n        when given \"foo\" this would select an option like:\n    \n        <option value=\"foo\">Bar</option>\n    \n        :Args:\n         - value - The value to match against\n    \n        throws NoSuchElementException If there is no option with specified value in SELECT\n        \"\"\"\n        css = f\"option[value ={self._escape_string(value)}]\"\n        opts = self._el.find_elements(By.CSS_SELECTOR, css)\n        matched = False\n        for opt in opts:\n            self._set_selected(opt)\n            if not self.is_multiple:\n                return\n            matched = True\n        if not matched:\n>           raise NoSuchElementException(f\"Cannot locate option with value: {value}\")\nE           selenium.common.exceptions.NoSuchElementException: Message: Cannot locate option with value: 10093544720; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.10/lib/python3.10/site-packages/selenium/webdriver/support/select.py:84: NoSuchElementException","steps":[{"name":"Given the council: EastSuffolkCouncil","time":{"start":1701220769982,"stop":1701220769983,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"When we scrape the data from EastSuffolkCouncil using local and the http://selenium:4444 is set","time":{"start":1701220769983,"stop":1701220785480,"duration":15497},"status":"failed","statusMessage":"Message: Cannot locate option with value: 10093544720; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\n","statusTrace":"selenium.common.exceptions.NoSuchElementException: Message: Cannot locate option with value: 10093544720; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\n\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"host","value":"fv-az700-90"},{"name":"thread","value":"2904-MainThread"},{"name":"framework","value":"pytest-bdd"},{"name":"language","value":"cpython3"},{"name":"feature","value":"Test each council output matches expected results"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"council","value":"EastSuffolkCouncil"},{"name":"selenium_mode","value":"local"},{"name":"selenium_url","value":"http://selenium:4444"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":28,"unknown":0,"total":30},"items":[{"uid":"6d22e48b6cff8a01","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1155//#testresult/6d22e48b6cff8a01","status":"passed","time":{"start":1701134344164,"stop":1701134358277,"duration":14113}},{"uid":"3f3d29fbe84d08d2","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1152//#testresult/3f3d29fbe84d08d2","status":"failed","statusDetails":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x56226e22b5e3 <unknown>\n#1 0x56226deee0b7 <unknown>\n#2 0x56226df3bf53 <unknown>\n#3 0x56226df3c051 <unknown>\n#4 0x56226df819c4 <unknown>\n#5 0x56226df62f1d <unknown>\n#6 0x56226df7eb3d <unknown>\n#7 0x56226df62cc3 <unknown>\n#8 0x56226df2e0e4 <unknown>\n#9 0x56226df2f0ae <unknown>\n#10 0x56226e1f1ce1 <unknown>\n#11 0x56226e1f5b7e <unknown>\n#12 0x56226e1df4b5 <unknown>\n#13 0x56226e1f67d6 <unknown>\n#14 0x56226e1c2dbf <unknown>\n#15 0x56226e219748 <unknown>\n#16 0x56226e219917 <unknown>\n#17 0x56226e22a773 <unknown>\n#18 0x7fe892494ac3 <unknown>","time":{"start":1701047906889,"stop":1701047935804,"duration":28915}},{"uid":"3f6145f73425f67","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1151//#testresult/3f6145f73425f67","status":"passed","time":{"start":1701036137955,"stop":1701036152422,"duration":14467}},{"uid":"5b64697838cea259","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1150//#testresult/5b64697838cea259","status":"passed","time":{"start":1701036140555,"stop":1701036153714,"duration":13159}},{"uid":"df1cfad7071cdb36","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1148//#testresult/df1cfad7071cdb36","status":"passed","time":{"start":1700961716090,"stop":1700961732382,"duration":16292}},{"uid":"73e13a7a104bf5c2","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1147//#testresult/73e13a7a104bf5c2","status":"passed","time":{"start":1700874898873,"stop":1700874920835,"duration":21962}},{"uid":"9afeb19ae6fe4804","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1146//#testresult/9afeb19ae6fe4804","status":"passed","time":{"start":1700788569462,"stop":1700788587145,"duration":17683}},{"uid":"85ef8b5cee648c9b","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1145//#testresult/85ef8b5cee648c9b","status":"passed","time":{"start":1700702274523,"stop":1700702293483,"duration":18960}},{"uid":"3c2263628b4109f8","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1143//#testresult/3c2263628b4109f8","status":"passed","time":{"start":1700646357757,"stop":1700646374946,"duration":17189}},{"uid":"ccffc59f0a33e0e3","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1141//#testresult/ccffc59f0a33e0e3","status":"passed","time":{"start":1700616039095,"stop":1700616057179,"duration":18084}},{"uid":"f0acc216796aad8e","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1136//#testresult/f0acc216796aad8e","status":"passed","time":{"start":1700529664124,"stop":1700529681602,"duration":17478}},{"uid":"ccb2b8596fdf194c","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1135//#testresult/ccb2b8596fdf194c","status":"passed","time":{"start":1700443143806,"stop":1700443167040,"duration":23234}},{"uid":"3ffc76d6ca66badf","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1134//#testresult/3ffc76d6ca66badf","status":"passed","time":{"start":1700356980174,"stop":1700356997720,"duration":17546}},{"uid":"e75f0dc45308d318","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1133//#testresult/e75f0dc45308d318","status":"passed","time":{"start":1700270277894,"stop":1700270302453,"duration":24559}},{"uid":"ea5ab9e6fa4ae586","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1132//#testresult/ea5ab9e6fa4ae586","status":"passed","time":{"start":1700183907503,"stop":1700183926412,"duration":18909}},{"uid":"f7de2d300e665e33","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1131//#testresult/f7de2d300e665e33","status":"passed","time":{"start":1700097525939,"stop":1700097545886,"duration":19947}},{"uid":"b0534dde8df1d802","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1129//#testresult/b0534dde8df1d802","status":"passed","time":{"start":1700011097840,"stop":1700011114260,"duration":16420}},{"uid":"ab321e2871c88874","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1128//#testresult/ab321e2871c88874","status":"passed","time":{"start":1699924658483,"stop":1699924678616,"duration":20133}},{"uid":"254c580214531bc2","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1127//#testresult/254c580214531bc2","status":"passed","time":{"start":1699838355975,"stop":1699838375249,"duration":19274}},{"uid":"f7e4dce1a3d0e3d2","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1126//#testresult/f7e4dce1a3d0e3d2","status":"passed","time":{"start":1699752034926,"stop":1699752055995,"duration":21069}}]},"tags":[]},"source":"fdf4638eb485e9ad.json","parameterValues":["EastSuffolkCouncil","local","http://selenium:4444"]}