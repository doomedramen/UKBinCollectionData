{"uid":"98ebea9d9c82d083","name":"Validate Council Output [CalderdaleCouncil-http://selenium:4444-local]","fullName":"features/validate_council_outputs.feature:Validate Council Output","historyId":"f80b0c90a66dd1aff5f349ea68c0d9b4","time":{"start":1712700294599,"stop":1712700377748,"duration":83149},"status":"failed","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55cdeeb87873 <unknown>\n#1 0x55cdee87d8c6 <unknown>\n#2 0x55cdee8c8618 <unknown>\n#3 0x55cdee8c86d1 <unknown>\n#4 0x55cdee90b744 <unknown>\n#5 0x55cdee8ea5cd <unknown>\n#6 0x55cdee908c19 <unknown>\n#7 0x55cdee8ea343 <unknown>\n#8 0x55cdee8bb593 <unknown>\n#9 0x55cdee8bbf5e <unknown>\n#10 0x55cdeeb4b85b <unknown>\n#11 0x55cdeeb4f7b5 <unknown>\n#12 0x55cdeeb39581 <unknown>\n#13 0x55cdeeb50342 <unknown>\n#14 0x55cdeeb1e88f <unknown>\n#15 0x55cdeeb76738 <unknown>\n#16 0x55cdeeb7690b <unknown>\n#17 0x55cdeeb869c4 <unknown>\n#18 0x7f1a08c94ac3 <unknown>","statusTrace":"fixturefunc = <function scrape_step at 0x7fb99ca031c0>\nrequest = <FixtureRequest for <Function test_scenario_outline[CalderdaleCouncil-http://selenium:4444-local]>>\nkwargs = {'context': <test_validate_council.context.<locals>.Context object at 0x7fb99c81e830>, 'council': 'CalderdaleCouncil', 'selenium_mode': 'local', 'selenium_url': 'http://selenium:4444'}\n\n    def call_fixture_func(\n        fixturefunc: \"_FixtureFunc[FixtureValue]\", request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.10/lib/python3.10/site-packages/_pytest/fixtures.py:902: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nuk_bin_collection/tests/step_defs/test_validate_council.py:92: in scrape_step\n    context.parse_result = CollectData.run()\nuk_bin_collection/uk_bin_collection/collect_data.py:96: in run\n    return self.client_code(\nuk_bin_collection/uk_bin_collection/collect_data.py:115: in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:78: in template_method\n    bin_data_dict = self.parse_data(\nuk_bin_collection/uk_bin_collection/councils/CalderdaleCouncil.py:70: in parse_data\n    results = wait.until(EC.presence_of_element_located((By.ID, \"collection\")))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"5a006a668d4867c55643897a5582d540\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x7fb99c507be0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       #0 0x55cdeeb87873 <unknown>\nE       #1 0x55cdee87d8c6 <unknown>\nE       #2 0x55cdee8c8618 <unknown>\nE       #3 0x55cdee8c86d1 <unknown>\nE       #4 0x55cdee90b744 <unknown>\nE       #5 0x55cdee8ea5cd <unknown>\nE       #6 0x55cdee908c19 <unknown>\nE       #7 0x55cdee8ea343 <unknown>\nE       #8 0x55cdee8bb593 <unknown>\nE       #9 0x55cdee8bbf5e <unknown>\nE       #10 0x55cdeeb4b85b <unknown>\nE       #11 0x55cdeeb4f7b5 <unknown>\nE       #12 0x55cdeeb39581 <unknown>\nE       #13 0x55cdeeb50342 <unknown>\nE       #14 0x55cdeeb1e88f <unknown>\nE       #15 0x55cdeeb76738 <unknown>\nE       #16 0x55cdeeb7690b <unknown>\nE       #17 0x55cdeeb869c4 <unknown>\nE       #18 0x7f1a08c94ac3 <unknown>\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.10/lib/python3.10/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55cdeeb87873 <unknown>\n#1 0x55cdee87d8c6 <unknown>\n#2 0x55cdee8c8618 <unknown>\n#3 0x55cdee8c86d1 <unknown>\n#4 0x55cdee90b744 <unknown>\n#5 0x55cdee8ea5cd <unknown>\n#6 0x55cdee908c19 <unknown>\n#7 0x55cdee8ea343 <unknown>\n#8 0x55cdee8bb593 <unknown>\n#9 0x55cdee8bbf5e <unknown>\n#10 0x55cdeeb4b85b <unknown>\n#11 0x55cdeeb4f7b5 <unknown>\n#12 0x55cdeeb39581 <unknown>\n#13 0x55cdeeb50342 <unknown>\n#14 0x55cdeeb1e88f <unknown>\n#15 0x55cdeeb76738 <unknown>\n#16 0x55cdeeb7690b <unknown>\n#17 0x55cdeeb869c4 <unknown>\n#18 0x7f1a08c94ac3 <unknown>","statusTrace":"fixturefunc = <function scrape_step at 0x7fb99ca031c0>\nrequest = <FixtureRequest for <Function test_scenario_outline[CalderdaleCouncil-http://selenium:4444-local]>>\nkwargs = {'context': <test_validate_council.context.<locals>.Context object at 0x7fb99c81e830>, 'council': 'CalderdaleCouncil', 'selenium_mode': 'local', 'selenium_url': 'http://selenium:4444'}\n\n    def call_fixture_func(\n        fixturefunc: \"_FixtureFunc[FixtureValue]\", request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.10/lib/python3.10/site-packages/_pytest/fixtures.py:902: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nuk_bin_collection/tests/step_defs/test_validate_council.py:92: in scrape_step\n    context.parse_result = CollectData.run()\nuk_bin_collection/uk_bin_collection/collect_data.py:96: in run\n    return self.client_code(\nuk_bin_collection/uk_bin_collection/collect_data.py:115: in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:78: in template_method\n    bin_data_dict = self.parse_data(\nuk_bin_collection/uk_bin_collection/councils/CalderdaleCouncil.py:70: in parse_data\n    results = wait.until(EC.presence_of_element_located((By.ID, \"collection\")))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"5a006a668d4867c55643897a5582d540\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x7fb99c507be0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       #0 0x55cdeeb87873 <unknown>\nE       #1 0x55cdee87d8c6 <unknown>\nE       #2 0x55cdee8c8618 <unknown>\nE       #3 0x55cdee8c86d1 <unknown>\nE       #4 0x55cdee90b744 <unknown>\nE       #5 0x55cdee8ea5cd <unknown>\nE       #6 0x55cdee908c19 <unknown>\nE       #7 0x55cdee8ea343 <unknown>\nE       #8 0x55cdee8bb593 <unknown>\nE       #9 0x55cdee8bbf5e <unknown>\nE       #10 0x55cdeeb4b85b <unknown>\nE       #11 0x55cdeeb4f7b5 <unknown>\nE       #12 0x55cdeeb39581 <unknown>\nE       #13 0x55cdeeb50342 <unknown>\nE       #14 0x55cdeeb1e88f <unknown>\nE       #15 0x55cdeeb76738 <unknown>\nE       #16 0x55cdeeb7690b <unknown>\nE       #17 0x55cdeeb869c4 <unknown>\nE       #18 0x7f1a08c94ac3 <unknown>\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.10/lib/python3.10/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","steps":[{"name":"Given the council: CalderdaleCouncil","time":{"start":1712700294600,"stop":1712700294601,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When we scrape the data from CalderdaleCouncil using local and the http://selenium:4444 is set","time":{"start":1712700294601,"stop":1712700377748,"duration":83147},"status":"failed","statusMessage":"Message: \nStacktrace:\n#0 0x55cdeeb87873 <unknown>\n#1 0x55cdee87d8c6 <unknown>\n#2 0x55cdee8c8618 <unknown>\n#3 0x55cdee8c86d1 <unknown>\n#4 0x55cdee90b744 <unknown>\n#5 0x55cdee8ea5cd <unknown>\n#6 0x55cdee908c19 <unknown>\n#7 0x55cdee8ea343 <unknown>\n#8 0x55cdee8bb593 <unknown>\n#9 0x55cdee8bbf5e <unknown>\n#10 0x55cdeeb4b85b <unknown>\n#11 0x55cdeeb4f7b5 <unknown>\n#12 0x55cdeeb39581 <unknown>\n#13 0x55cdeeb50342 <unknown>\n#14 0x55cdeeb1e88f <unknown>\n#15 0x55cdeeb76738 <unknown>\n#16 0x55cdeeb7690b <unknown>\n#17 0x55cdeeb869c4 <unknown>\n#18 0x7f1a08c94ac3 <unknown>\n","statusTrace":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55cdeeb87873 <unknown>\n#1 0x55cdee87d8c6 <unknown>\n#2 0x55cdee8c8618 <unknown>\n#3 0x55cdee8c86d1 <unknown>\n#4 0x55cdee90b744 <unknown>\n#5 0x55cdee8ea5cd <unknown>\n#6 0x55cdee908c19 <unknown>\n#7 0x55cdee8ea343 <unknown>\n#8 0x55cdee8bb593 <unknown>\n#9 0x55cdee8bbf5e <unknown>\n#10 0x55cdeeb4b85b <unknown>\n#11 0x55cdeeb4f7b5 <unknown>\n#12 0x55cdeeb39581 <unknown>\n#13 0x55cdeeb50342 <unknown>\n#14 0x55cdeeb1e88f <unknown>\n#15 0x55cdeeb76738 <unknown>\n#16 0x55cdeeb7690b <unknown>\n#17 0x55cdeeb869c4 <unknown>\n#18 0x7f1a08c94ac3 <unknown>\n\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"host","value":"fv-az1432-985"},{"name":"thread","value":"2739-MainThread"},{"name":"framework","value":"pytest-bdd"},{"name":"language","value":"cpython3"},{"name":"feature","value":"Test each council output matches expected results"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"council","value":"CalderdaleCouncil"},{"name":"selenium_mode","value":"local"},{"name":"selenium_url","value":"http://selenium:4444"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":40,"broken":0,"skipped":0,"passed":117,"unknown":0,"total":157},"items":[{"uid":"f629e46f17cf408a","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1668//#testresult/f629e46f17cf408a","status":"passed","time":{"start":1712622382051,"stop":1712622398941,"duration":16890}},{"uid":"422f6fb83b7acbd7","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1667//#testresult/422f6fb83b7acbd7","status":"passed","time":{"start":1712536039580,"stop":1712536054473,"duration":14893}},{"uid":"b6db918a2e72c184","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1666//#testresult/b6db918a2e72c184","status":"passed","time":{"start":1712449769439,"stop":1712449783131,"duration":13692}},{"uid":"40611ced38875ee4","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1665//#testresult/40611ced38875ee4","status":"passed","time":{"start":1712363113665,"stop":1712363136938,"duration":23273}},{"uid":"983bc0ce76cc3138","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1664//#testresult/983bc0ce76cc3138","status":"passed","time":{"start":1712276761910,"stop":1712276781297,"duration":19387}},{"uid":"1be30fc1891e04b0","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1660//#testresult/1be30fc1891e04b0","status":"passed","time":{"start":1712190445303,"stop":1712190484297,"duration":38994}},{"uid":"6146bd100d8ae26e","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1657//#testresult/6146bd100d8ae26e","status":"passed","time":{"start":1712136873456,"stop":1712136889664,"duration":16208}},{"uid":"a1023d8858304bb9","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1655//#testresult/a1023d8858304bb9","status":"failed","statusDetails":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x5570d33da8a3 <unknown>\n#1 0x5570d30d08c6 <unknown>\n#2 0x5570d311b618 <unknown>\n#3 0x5570d311b6d1 <unknown>\n#4 0x5570d315e744 <unknown>\n#5 0x5570d313d5cd <unknown>\n#6 0x5570d315bc19 <unknown>\n#7 0x5570d313d343 <unknown>\n#8 0x5570d310e593 <unknown>\n#9 0x5570d310ef5e <unknown>\n#10 0x5570d339e88b <unknown>\n#11 0x5570d33a27e5 <unknown>\n#12 0x5570d338c5b1 <unknown>\n#13 0x5570d33a3372 <unknown>\n#14 0x5570d33718bf <unknown>\n#15 0x5570d33c9768 <unknown>\n#16 0x5570d33c993b <unknown>\n#17 0x5570d33d99f4 <unknown>\n#18 0x7f2c18894ac3 <unknown>","time":{"start":1712103932751,"stop":1712103985072,"duration":52321}},{"uid":"780393c97cf7ec35","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1654//#testresult/780393c97cf7ec35","status":"passed","time":{"start":1712017567714,"stop":1712017618809,"duration":51095}},{"uid":"22ef76af42f1346f","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1653//#testresult/22ef76af42f1346f","status":"failed","statusDetails":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x558602df78a3 <unknown>\n#1 0x558602aed8c6 <unknown>\n#2 0x558602b38618 <unknown>\n#3 0x558602b386d1 <unknown>\n#4 0x558602b7b744 <unknown>\n#5 0x558602b5a5cd <unknown>\n#6 0x558602b78c19 <unknown>\n#7 0x558602b5a343 <unknown>\n#8 0x558602b2b593 <unknown>\n#9 0x558602b2bf5e <unknown>\n#10 0x558602dbb88b <unknown>\n#11 0x558602dbf7e5 <unknown>\n#12 0x558602da95b1 <unknown>\n#13 0x558602dc0372 <unknown>\n#14 0x558602d8e8bf <unknown>\n#15 0x558602de6768 <unknown>\n#16 0x558602de693b <unknown>\n#17 0x558602df69f4 <unknown>\n#18 0x7f8d6ee94ac3 <unknown>","time":{"start":1711931393707,"stop":1711931488876,"duration":95169}},{"uid":"8d17d74f9ace8fd2","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1652//#testresult/8d17d74f9ace8fd2","status":"passed","time":{"start":1711844951543,"stop":1711844970580,"duration":19037}},{"uid":"2952d4f50e04ceb8","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1649//#testresult/2952d4f50e04ceb8","status":"passed","time":{"start":1711671954522,"stop":1711671976723,"duration":22201}},{"uid":"94cacd03f40e1235","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1648//#testresult/94cacd03f40e1235","status":"passed","time":{"start":1711585557454,"stop":1711585576798,"duration":19344}},{"uid":"f03f0f37942465a1","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1646//#testresult/f03f0f37942465a1","status":"passed","time":{"start":1711499121963,"stop":1711499152496,"duration":30533}},{"uid":"c2dd3de261be6116","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1645//#testresult/c2dd3de261be6116","status":"passed","time":{"start":1711412703637,"stop":1711412723913,"duration":20276}},{"uid":"4429357537b4def4","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1641//#testresult/4429357537b4def4","status":"failed","statusDetails":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55c57d552f33 <unknown>\n#1 0x55c57d24ace6 <unknown>\n#2 0x55c57d295e48 <unknown>\n#3 0x55c57d295f01 <unknown>\n#4 0x55c57d2d93f4 <unknown>\n#5 0x55c57d2b7edd <unknown>\n#6 0x55c57d2d6899 <unknown>\n#7 0x55c57d2b7c53 <unknown>\n#8 0x55c57d288db3 <unknown>\n#9 0x55c57d28977e <unknown>\n#10 0x55c57d51886b <unknown>\n#11 0x55c57d51c885 <unknown>\n#12 0x55c57d506181 <unknown>\n#13 0x55c57d51d412 <unknown>\n#14 0x55c57d4ea25f <unknown>\n#15 0x55c57d541528 <unknown>\n#16 0x55c57d541723 <unknown>\n#17 0x55c57d5520e4 <unknown>\n#18 0x7f09c7494ac3 <unknown>","time":{"start":1711326424321,"stop":1711326467038,"duration":42717}},{"uid":"91cabcb5827a0753","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1634//#testresult/91cabcb5827a0753","status":"passed","time":{"start":1711240114065,"stop":1711240147958,"duration":33893}},{"uid":"bd7c497d7d3ab830","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1626//#testresult/bd7c497d7d3ab830","status":"passed","time":{"start":1711153492278,"stop":1711153516035,"duration":23757}},{"uid":"bff01ba00805fa59","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1625//#testresult/bff01ba00805fa59","status":"passed","time":{"start":1711067115464,"stop":1711067138075,"duration":22611}},{"uid":"297801faecc6b69","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.10/1624//#testresult/297801faecc6b69","status":"passed","time":{"start":1710980789401,"stop":1710980810225,"duration":20824}}]},"tags":[]},"source":"98ebea9d9c82d083.json","parameterValues":["CalderdaleCouncil","local","http://selenium:4444"]}