{"uid":"f1129e47a4784d94","name":"Validate Council Output [CheshireWestAndChesterCouncil]","fullName":"features/validate_council_outputs.feature:Validate Council Output","historyId":"64af12fdfc56ab0224e14523e9cf88ad","time":{"start":1726531272650,"stop":1726531342346,"duration":69696},"status":"failed","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55746f0c686a <unknown>\n#1 0x55746ed94e50 <unknown>\n#2 0x55746ede4644 <unknown>\n#3 0x55746ede4931 <unknown>\n#4 0x55746ee2a534 <unknown>\n#5 0x55746ee094bd <unknown>\n#6 0x55746ee279c6 <unknown>\n#7 0x55746ee09233 <unknown>\n#8 0x55746edd7093 <unknown>\n#9 0x55746edd809e <unknown>\n#10 0x55746f08dacb <unknown>\n#11 0x55746f091a81 <unknown>\n#12 0x55746f079695 <unknown>\n#13 0x55746f0925f2 <unknown>\n#14 0x55746f05e86f <unknown>\n#15 0x55746f0b5668 <unknown>\n#16 0x55746f0b5832 <unknown>\n#17 0x55746f0c565c <unknown>\n#18 0x7f22e89afa94 <unknown>\n#19 0x7f22e8a3ca34 __clone","statusTrace":"fixturefunc = <function scrape_step at 0x7f73e367aa20>\nrequest = <FixtureRequest for <Function test_scenario_outline[CheshireWestAndChesterCouncil]>>\nkwargs = {'context': <test_validate_council.Context object at 0x7f73e43c6bd0>, 'headless_mode': 'True', 'local_browser': 'False', 'selenium_url': 'http://localhost:4444'}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.12/lib/python3.12/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nuk_bin_collection/tests/step_defs/test_validate_council.py:100: in scrape_step\n    context.parse_result = CollectData.run()\nuk_bin_collection/uk_bin_collection/collect_data.py:101: in run\n    return self.client_code(\nuk_bin_collection/uk_bin_collection/collect_data.py:121: in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:61: in template_method\n    bin_data_dict = self.get_and_parse_data(this_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:84: in get_and_parse_data\n    bin_data_dict = self.parse_data(\"\", url=address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/councils/CheshireWestAndChesterCouncil.py:88: in parse_data\n    wait.until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"8717a9756e8bb650bc36051536b2df7e\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x7f73e3747600>\nmessage = ''\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = \"\") -> T:\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       #0 0x55746f0c686a <unknown>\nE       #1 0x55746ed94e50 <unknown>\nE       #2 0x55746ede4644 <unknown>\nE       #3 0x55746ede4931 <unknown>\nE       #4 0x55746ee2a534 <unknown>\nE       #5 0x55746ee094bd <unknown>\nE       #6 0x55746ee279c6 <unknown>\nE       #7 0x55746ee09233 <unknown>\nE       #8 0x55746edd7093 <unknown>\nE       #9 0x55746edd809e <unknown>\nE       #10 0x55746f08dacb <unknown>\nE       #11 0x55746f091a81 <unknown>\nE       #12 0x55746f079695 <unknown>\nE       #13 0x55746f0925f2 <unknown>\nE       #14 0x55746f05e86f <unknown>\nE       #15 0x55746f0b5668 <unknown>\nE       #16 0x55746f0b5832 <unknown>\nE       #17 0x55746f0c565c <unknown>\nE       #18 0x7f22e89afa94 <unknown>\nE       #19 0x7f22e8a3ca34 __clone\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.12/lib/python3.12/site-packages/selenium/webdriver/support/wait.py:105: TimeoutException","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55746f0c686a <unknown>\n#1 0x55746ed94e50 <unknown>\n#2 0x55746ede4644 <unknown>\n#3 0x55746ede4931 <unknown>\n#4 0x55746ee2a534 <unknown>\n#5 0x55746ee094bd <unknown>\n#6 0x55746ee279c6 <unknown>\n#7 0x55746ee09233 <unknown>\n#8 0x55746edd7093 <unknown>\n#9 0x55746edd809e <unknown>\n#10 0x55746f08dacb <unknown>\n#11 0x55746f091a81 <unknown>\n#12 0x55746f079695 <unknown>\n#13 0x55746f0925f2 <unknown>\n#14 0x55746f05e86f <unknown>\n#15 0x55746f0b5668 <unknown>\n#16 0x55746f0b5832 <unknown>\n#17 0x55746f0c565c <unknown>\n#18 0x7f22e89afa94 <unknown>\n#19 0x7f22e8a3ca34 __clone","statusTrace":"fixturefunc = <function scrape_step at 0x7f73e367aa20>\nrequest = <FixtureRequest for <Function test_scenario_outline[CheshireWestAndChesterCouncil]>>\nkwargs = {'context': <test_validate_council.Context object at 0x7f73e43c6bd0>, 'headless_mode': 'True', 'local_browser': 'False', 'selenium_url': 'http://localhost:4444'}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.12/lib/python3.12/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nuk_bin_collection/tests/step_defs/test_validate_council.py:100: in scrape_step\n    context.parse_result = CollectData.run()\nuk_bin_collection/uk_bin_collection/collect_data.py:101: in run\n    return self.client_code(\nuk_bin_collection/uk_bin_collection/collect_data.py:121: in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:61: in template_method\n    bin_data_dict = self.get_and_parse_data(this_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:84: in get_and_parse_data\n    bin_data_dict = self.parse_data(\"\", url=address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/councils/CheshireWestAndChesterCouncil.py:88: in parse_data\n    wait.until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"8717a9756e8bb650bc36051536b2df7e\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x7f73e3747600>\nmessage = ''\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = \"\") -> T:\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       #0 0x55746f0c686a <unknown>\nE       #1 0x55746ed94e50 <unknown>\nE       #2 0x55746ede4644 <unknown>\nE       #3 0x55746ede4931 <unknown>\nE       #4 0x55746ee2a534 <unknown>\nE       #5 0x55746ee094bd <unknown>\nE       #6 0x55746ee279c6 <unknown>\nE       #7 0x55746ee09233 <unknown>\nE       #8 0x55746edd7093 <unknown>\nE       #9 0x55746edd809e <unknown>\nE       #10 0x55746f08dacb <unknown>\nE       #11 0x55746f091a81 <unknown>\nE       #12 0x55746f079695 <unknown>\nE       #13 0x55746f0925f2 <unknown>\nE       #14 0x55746f05e86f <unknown>\nE       #15 0x55746f0b5668 <unknown>\nE       #16 0x55746f0b5832 <unknown>\nE       #17 0x55746f0c565c <unknown>\nE       #18 0x7f22e89afa94 <unknown>\nE       #19 0x7f22e8a3ca34 __clone\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.12/lib/python3.12/site-packages/selenium/webdriver/support/wait.py:105: TimeoutException","steps":[{"name":"Given the council","time":{"start":1726531272650,"stop":1726531272651,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When we scrape the data from the council","time":{"start":1726531272651,"stop":1726531342346,"duration":69695},"status":"failed","statusMessage":"Message: \nStacktrace:\n#0 0x55746f0c686a <unknown>\n#1 0x55746ed94e50 <unknown>\n#2 0x55746ede4644 <unknown>\n#3 0x55746ede4931 <unknown>\n#4 0x55746ee2a534 <unknown>\n#5 0x55746ee094bd <unknown>\n#6 0x55746ee279c6 <unknown>\n#7 0x55746ee09233 <unknown>\n#8 0x55746edd7093 <unknown>\n#9 0x55746edd809e <unknown>\n#10 0x55746f08dacb <unknown>\n#11 0x55746f091a81 <unknown>\n#12 0x55746f079695 <unknown>\n#13 0x55746f0925f2 <unknown>\n#14 0x55746f05e86f <unknown>\n#15 0x55746f0b5668 <unknown>\n#16 0x55746f0b5832 <unknown>\n#17 0x55746f0c565c <unknown>\n#18 0x7f22e89afa94 <unknown>\n#19 0x7f22e8a3ca34 __clone\n","statusTrace":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55746f0c686a <unknown>\n#1 0x55746ed94e50 <unknown>\n#2 0x55746ede4644 <unknown>\n#3 0x55746ede4931 <unknown>\n#4 0x55746ee2a534 <unknown>\n#5 0x55746ee094bd <unknown>\n#6 0x55746ee279c6 <unknown>\n#7 0x55746ee09233 <unknown>\n#8 0x55746edd7093 <unknown>\n#9 0x55746edd809e <unknown>\n#10 0x55746f08dacb <unknown>\n#11 0x55746f091a81 <unknown>\n#12 0x55746f079695 <unknown>\n#13 0x55746f0925f2 <unknown>\n#14 0x55746f05e86f <unknown>\n#15 0x55746f0b5668 <unknown>\n#16 0x55746f0b5832 <unknown>\n#17 0x55746f0c565c <unknown>\n#18 0x7f22e89afa94 <unknown>\n#19 0x7f22e8a3ca34 __clone\n\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"ed29e52bdd946780","name":"log","source":"ed29e52bdd946780.txt","type":"text/plain","size":659},{"uid":"ef3f85429337f61f","name":"stdout","source":"ef3f85429337f61f.txt","type":"text/plain","size":56}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"host","value":"fv-az984-975"},{"name":"thread","value":"2752-MainThread"},{"name":"framework","value":"pytest-bdd"},{"name":"language","value":"cpython3"},{"name":"feature","value":"Test each council output matches expected results"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"council","value":"CheshireWestAndChesterCouncil"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":9,"broken":0,"skipped":0,"passed":134,"unknown":0,"total":143},"items":[{"uid":"ecec1b06eef19127","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2116//#testresult/ecec1b06eef19127","status":"passed","time":{"start":1726444887162,"stop":1726444934501,"duration":47339}},{"uid":"d557fc34b8822a6a","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2115//#testresult/d557fc34b8822a6a","status":"passed","time":{"start":1726358468662,"stop":1726358505557,"duration":36895}},{"uid":"bddaeae57a09cecf","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2114//#testresult/bddaeae57a09cecf","status":"passed","time":{"start":1726272083564,"stop":1726272127939,"duration":44375}},{"uid":"8a5f471d08e9f897","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2113//#testresult/8a5f471d08e9f897","status":"passed","time":{"start":1726185684677,"stop":1726185706414,"duration":21737}},{"uid":"650b1e1f4ce6868","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2112//#testresult/650b1e1f4ce6868","status":"passed","time":{"start":1726099334122,"stop":1726099355234,"duration":21112}},{"uid":"13db48abd7f200ed","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2111//#testresult/13db48abd7f200ed","status":"passed","time":{"start":1726012877244,"stop":1726012923665,"duration":46421}},{"uid":"6f2ccde431417dea","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2109//#testresult/6f2ccde431417dea","status":"passed","time":{"start":1725954755431,"stop":1725954772492,"duration":17061}},{"uid":"6133feefe5210c5b","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2107//#testresult/6133feefe5210c5b","status":"passed","time":{"start":1725926486287,"stop":1725926519089,"duration":32802}},{"uid":"3e68e2abf6fc370e","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2095//#testresult/3e68e2abf6fc370e","status":"passed","time":{"start":1725840089799,"stop":1725840131942,"duration":42143}},{"uid":"9bf791aa47a7e04","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2093//#testresult/9bf791aa47a7e04","status":"passed","time":{"start":1725753675466,"stop":1725753708821,"duration":33355}},{"uid":"baa8679df1bb6b93","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2092//#testresult/baa8679df1bb6b93","status":"passed","time":{"start":1725667271698,"stop":1725667330619,"duration":58921}},{"uid":"dfe911935e3faee7","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2088//#testresult/dfe911935e3faee7","status":"passed","time":{"start":1725580877847,"stop":1725580905672,"duration":27825}},{"uid":"4d5a89d81f76bdf5","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2086//#testresult/4d5a89d81f76bdf5","status":"passed","time":{"start":1725568765281,"stop":1725568785197,"duration":19916}},{"uid":"bf8b208d7f297274","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2083//#testresult/bf8b208d7f297274","status":"passed","time":{"start":1725494485213,"stop":1725494502744,"duration":17531}},{"uid":"6bfe9d58ea8061d4","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2082//#testresult/6bfe9d58ea8061d4","status":"passed","time":{"start":1725429654432,"stop":1725429676182,"duration":21750}},{"uid":"5e2604059e941ba2","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2082//#testresult/5e2604059e941ba2","status":"failed","statusDetails":"selenium.common.exceptions.ElementClickInterceptedException: Message: element click intercepted: Element <a href=\"https://my.cheshirewestandchester.gov.uk/en/AchieveForms/?form_uri=sandbox-publish://AF-Process-0187a2f6-15cb-413a-8a3f-b6d14d63da57/AF-Stage-e18b38ff-be8a-45f4-ac14-f8821024f0c4/definition.json&amp;redirectlink=%2Fen&amp;cancelRedirectLink=%2Fen&amp;consentMessage=yes\" class=\"sc-eDWCr ipXPp orange\">...</a> is not clickable at point (487, 25). Other element would receive the click: <button id=\"ccc-close\" class=\"ccc-link ccc-tabbable \" tabindex=\"0\" aria-label=\"Close Cookie Control\">...</button>\n  (Session info: chrome=128.0.6613.113)\nStacktrace:\n#0 0x558d8e0eb8da <unknown>\n#1 0x558d8ddb9e50 <unknown>\n#2 0x558d8de10346 <unknown>\n#3 0x558d8de0e25d <unknown>\n#4 0x558d8de0bcf7 <unknown>\n#5 0x558d8de0ab9c <unknown>\n#6 0x558d8ddfe4d6 <unknown>\n#7 0x558d8de2e492 <unknown>\n#8 0x558d8ddfde89 <unknown>\n#9 0x558d8de2e65e <unknown>\n#10 0x558d8de4c9c6 <unknown>\n#11 0x558d8de2e233 <unknown>\n#12 0x558d8ddfc093 <unknown>\n#13 0x558d8ddfd09e <unknown>\n#14 0x558d8e0b2b3b <unknown>\n#15 0x558d8e0b6af1 <unknown>\n#16 0x558d8e09e705 <unknown>\n#17 0x558d8e0b7662 <unknown>\n#18 0x558d8e0838df <unknown>\n#19 0x558d8e0da6d8 <unknown>\n#20 0x558d8e0da8a2 <unknown>\n#21 0x558d8e0ea6cc <unknown>\n#22 0x7f888cb20a94 <unknown>\n#23 0x7f888cbada34 __clone","time":{"start":1725408095977,"stop":1725408102058,"duration":6081}},{"uid":"b0b74b0cdb7a3d8c","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2080//#testresult/b0b74b0cdb7a3d8c","status":"passed","time":{"start":1725403277603,"stop":1725403295197,"duration":17594}},{"uid":"ee255e960a7b2f25","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2073//#testresult/ee255e960a7b2f25","status":"passed","time":{"start":1725384219730,"stop":1725384237436,"duration":17706}},{"uid":"6017513da33b9b14","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2070//#testresult/6017513da33b9b14","status":"passed","time":{"start":1725346428267,"stop":1725346447082,"duration":18815}},{"uid":"7d910609ed456ec1","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.12/2069//#testresult/7d910609ed456ec1","status":"passed","time":{"start":1725321668678,"stop":1725321714116,"duration":45438}}]},"tags":[]},"source":"f1129e47a4784d94.json","parameterValues":["CheshireWestAndChesterCouncil"]}