{"uid":"3696b4be0d051979","name":"Validate Council Output [WiganBoroughCouncil]","fullName":"features/validate_council_outputs.feature:Validate Council Output","historyId":"d724d8b9a4d0593a99f53e95b03e558b","time":{"start":1695206394754,"stop":1695206396619,"duration":1865},"status":"failed","statusMessage":"AssertionError: assert False is True","statusTrace":"request = <FixtureRequest for <Function test_scenario_outline[WiganBoroughCouncil]>>\n_pytest_bdd_example = {'council': 'WiganBoroughCouncil'}\n\n    @pytest.mark.usefixtures(*func_args)\n    def scenario_wrapper(request: FixtureRequest, _pytest_bdd_example: dict[str, str]) -> Any:\n        scenario = templated_scenario.render(_pytest_bdd_example)\n>       _execute_scenario(feature, scenario, request)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:187: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:157: in _execute_scenario\n    _execute_step_function(request, scenario, step, step_func)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:127: in _execute_step_function\n    return_value = call_fixture_func(fixturefunc=step_func, request=request, kwargs=kwargs)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:902: in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\nuk_bin_collection/tests/step_defs/test_validate_council.py:87: in validate_output_step\n    raise (err)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncontext = <test_validate_council.context.<locals>.Context object at 0x7fec33ecf550>\n\n    @then(\"the output should validate against the schema\")\n    def validate_output_step(context):\n        try:\n            council_schema = file_handler.load_schema_file(f\"{context.council}.schema\")\n            schema_result = file_handler.validate_json_schema(\n                context.parse_result, council_schema\n            )\n>           assert schema_result is True\nE           assert False is True\n\nuk_bin_collection/tests/step_defs/test_validate_council.py:83: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: assert False is True","statusTrace":"request = <FixtureRequest for <Function test_scenario_outline[WiganBoroughCouncil]>>\n_pytest_bdd_example = {'council': 'WiganBoroughCouncil'}\n\n    @pytest.mark.usefixtures(*func_args)\n    def scenario_wrapper(request: FixtureRequest, _pytest_bdd_example: dict[str, str]) -> Any:\n        scenario = templated_scenario.render(_pytest_bdd_example)\n>       _execute_scenario(feature, scenario, request)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:187: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:157: in _execute_scenario\n    _execute_step_function(request, scenario, step, step_func)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:127: in _execute_step_function\n    return_value = call_fixture_func(fixturefunc=step_func, request=request, kwargs=kwargs)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:902: in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\nuk_bin_collection/tests/step_defs/test_validate_council.py:87: in validate_output_step\n    raise (err)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncontext = <test_validate_council.context.<locals>.Context object at 0x7fec33ecf550>\n\n    @then(\"the output should validate against the schema\")\n    def validate_output_step(context):\n        try:\n            council_schema = file_handler.load_schema_file(f\"{context.council}.schema\")\n            schema_result = file_handler.validate_json_schema(\n                context.parse_result, council_schema\n            )\n>           assert schema_result is True\nE           assert False is True\n\nuk_bin_collection/tests/step_defs/test_validate_council.py:83: AssertionError","steps":[{"name":"Given the council: WiganBoroughCouncil","time":{"start":1695206394754,"stop":1695206394755,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"When we scrape the data from WiganBoroughCouncil","time":{"start":1695206394755,"stop":1695206396616,"duration":1861},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Then the result is valid json","time":{"start":1695206396616,"stop":1695206396617,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"And the output should validate against the schema","time":{"start":1695206396617,"stop":1695206396619,"duration":2},"status":"failed","statusMessage":"assert False is True","statusTrace":"AssertionError: assert False is True\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"host","value":"fv-az1030-38"},{"name":"thread","value":"2096-MainThread"},{"name":"framework","value":"pytest-bdd"},{"name":"language","value":"cpython3"},{"name":"feature","value":"Test each council output matches expected results in /outputs"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"council","value":"WiganBoroughCouncil"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":14,"broken":0,"skipped":0,"passed":76,"unknown":0,"total":90},"items":[{"uid":"c835b9e0ed70ee94","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/939//#testresult/c835b9e0ed70ee94","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1695193918514,"stop":1695193921603,"duration":3089}},{"uid":"92a6b5150f024761","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/937//#testresult/92a6b5150f024761","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1695172681587,"stop":1695172684215,"duration":2628}},{"uid":"83b14a5a06f787f0","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/936//#testresult/83b14a5a06f787f0","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1695162234720,"stop":1695162237153,"duration":2433}},{"uid":"e31f0605f0e90353","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/935//#testresult/e31f0605f0e90353","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1695160115445,"stop":1695160117426,"duration":1981}},{"uid":"6a7bc19b4f01db05","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/932//#testresult/6a7bc19b4f01db05","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1695157213749,"stop":1695157216725,"duration":2976}},{"uid":"f015bd09b61d013b","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/930//#testresult/f015bd09b61d013b","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1695086337193,"stop":1695086339629,"duration":2436}},{"uid":"51f4b124495fc3e1","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/929//#testresult/51f4b124495fc3e1","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1694999878660,"stop":1694999881290,"duration":2630}},{"uid":"9441da0aac1f4315","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/928//#testresult/9441da0aac1f4315","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1694988152901,"stop":1694988154676,"duration":1775}},{"uid":"8191ed09e8c10a06","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/926//#testresult/8191ed09e8c10a06","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1694987998044,"stop":1694988000185,"duration":2141}},{"uid":"d6d6908e346a4725","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/922//#testresult/d6d6908e346a4725","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1694971874854,"stop":1694971877497,"duration":2643}},{"uid":"50cc3a2e2de49c7f","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/920//#testresult/50cc3a2e2de49c7f","status":"passed","time":{"start":1694913674510,"stop":1694913676669,"duration":2159}},{"uid":"fb99c8efbf4937","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/919//#testresult/fb99c8efbf4937","status":"passed","time":{"start":1694892992695,"stop":1694892994844,"duration":2149}},{"uid":"7af2a7f53f7fddd8","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/917//#testresult/7af2a7f53f7fddd8","status":"passed","time":{"start":1694889955849,"stop":1694889960496,"duration":4647}},{"uid":"9202f84cf53b5c5f","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/915//#testresult/9202f84cf53b5c5f","status":"passed","time":{"start":1694864916774,"stop":1694864919917,"duration":3143}},{"uid":"b99dc3e2d6575e4a","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/913//#testresult/b99dc3e2d6575e4a","status":"passed","time":{"start":1694840573082,"stop":1694840575586,"duration":2504}},{"uid":"7dea4f7d9b6f5ee0","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/912//#testresult/7dea4f7d9b6f5ee0","status":"passed","time":{"start":1694826974181,"stop":1694826976342,"duration":2161}},{"uid":"1cf6cc56d7394121","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/910//#testresult/1cf6cc56d7394121","status":"passed","time":{"start":1694797012931,"stop":1694797015319,"duration":2388}},{"uid":"962613f97ba6f11e","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/906//#testresult/962613f97ba6f11e","status":"passed","time":{"start":1694740692534,"stop":1694740694486,"duration":1952}},{"uid":"970e1bd92f7eeb67","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/905//#testresult/970e1bd92f7eeb67","status":"passed","time":{"start":1694654163131,"stop":1694654165165,"duration":2034}},{"uid":"4f514cd112136d00","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/904//#testresult/4f514cd112136d00","status":"passed","time":{"start":1694567963808,"stop":1694567967379,"duration":3571}}]},"tags":[]},"source":"3696b4be0d051979.json","parameterValues":["WiganBoroughCouncil"]}