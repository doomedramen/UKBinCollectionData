{"uid":"d0056b412128666d","name":"Validate Council Output [WestLothianCouncil-http://selenium:4444-local]","fullName":"features/validate_council_outputs.feature:Validate Council Output","historyId":"ce2f3067ea55e2ff3170dcf041984a6e","time":{"start":1701882663441,"stop":1701882698342,"duration":34901},"status":"failed","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x5636139b95e3 <unknown>\n#1 0x56361367c0b7 <unknown>\n#2 0x5636136c9f53 <unknown>\n#3 0x5636136ca051 <unknown>\n#4 0x56361370f9c4 <unknown>\n#5 0x5636136f0f1d <unknown>\n#6 0x56361370cb3d <unknown>\n#7 0x5636136f0cc3 <unknown>\n#8 0x5636136bc0e4 <unknown>\n#9 0x5636136bd0ae <unknown>\n#10 0x56361397fce1 <unknown>\n#11 0x563613983b7e <unknown>\n#12 0x56361396d4b5 <unknown>\n#13 0x5636139847d6 <unknown>\n#14 0x563613950dbf <unknown>\n#15 0x5636139a7748 <unknown>\n#16 0x5636139a7917 <unknown>\n#17 0x5636139b8773 <unknown>\n#18 0x7efdc4e94ac3 <unknown>","statusTrace":"fixturefunc = <function scrape_step at 0x7f40b564f380>\nrequest = <FixtureRequest for <Function test_scenario_outline[WestLothianCouncil-http://selenium:4444-local]>>\nkwargs = {'context': <test_validate_council.context.<locals>.Context object at 0x7f40a19c5710>, 'council': 'WestLothianCouncil', 'selenium_mode': 'local', 'selenium_url': 'http://selenium:4444'}\n\n    def call_fixture_func(\n        fixturefunc: \"_FixtureFunc[FixtureValue]\", request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:902: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nuk_bin_collection/tests/step_defs/test_validate_council.py:75: in scrape_step\n    raise (err)\nuk_bin_collection/tests/step_defs/test_validate_council.py:71: in scrape_step\n    context.parse_result = CollectData.run()\nuk_bin_collection/uk_bin_collection/collect_data.py:78: in run\n    return self.client_code(\nuk_bin_collection/uk_bin_collection/collect_data.py:65: in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:71: in template_method\n    bin_data_dict = self.parse_data(\nuk_bin_collection/uk_bin_collection/councils/WestLothianCouncil.py:39: in parse_data\n    inputElement_postcode = WebDriverWait(driver, 30).until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"8fde2787fc3c121862565bf491e9b026\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x7f40a0ff6480>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       #0 0x5636139b95e3 <unknown>\nE       #1 0x56361367c0b7 <unknown>\nE       #2 0x5636136c9f53 <unknown>\nE       #3 0x5636136ca051 <unknown>\nE       #4 0x56361370f9c4 <unknown>\nE       #5 0x5636136f0f1d <unknown>\nE       #6 0x56361370cb3d <unknown>\nE       #7 0x5636136f0cc3 <unknown>\nE       #8 0x5636136bc0e4 <unknown>\nE       #9 0x5636136bd0ae <unknown>\nE       #10 0x56361397fce1 <unknown>\nE       #11 0x563613983b7e <unknown>\nE       #12 0x56361396d4b5 <unknown>\nE       #13 0x5636139847d6 <unknown>\nE       #14 0x563613950dbf <unknown>\nE       #15 0x5636139a7748 <unknown>\nE       #16 0x5636139a7917 <unknown>\nE       #17 0x5636139b8773 <unknown>\nE       #18 0x7efdc4e94ac3 <unknown>\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x5636139b95e3 <unknown>\n#1 0x56361367c0b7 <unknown>\n#2 0x5636136c9f53 <unknown>\n#3 0x5636136ca051 <unknown>\n#4 0x56361370f9c4 <unknown>\n#5 0x5636136f0f1d <unknown>\n#6 0x56361370cb3d <unknown>\n#7 0x5636136f0cc3 <unknown>\n#8 0x5636136bc0e4 <unknown>\n#9 0x5636136bd0ae <unknown>\n#10 0x56361397fce1 <unknown>\n#11 0x563613983b7e <unknown>\n#12 0x56361396d4b5 <unknown>\n#13 0x5636139847d6 <unknown>\n#14 0x563613950dbf <unknown>\n#15 0x5636139a7748 <unknown>\n#16 0x5636139a7917 <unknown>\n#17 0x5636139b8773 <unknown>\n#18 0x7efdc4e94ac3 <unknown>","statusTrace":"fixturefunc = <function scrape_step at 0x7f40b564f380>\nrequest = <FixtureRequest for <Function test_scenario_outline[WestLothianCouncil-http://selenium:4444-local]>>\nkwargs = {'context': <test_validate_council.context.<locals>.Context object at 0x7f40a19c5710>, 'council': 'WestLothianCouncil', 'selenium_mode': 'local', 'selenium_url': 'http://selenium:4444'}\n\n    def call_fixture_func(\n        fixturefunc: \"_FixtureFunc[FixtureValue]\", request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:902: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nuk_bin_collection/tests/step_defs/test_validate_council.py:75: in scrape_step\n    raise (err)\nuk_bin_collection/tests/step_defs/test_validate_council.py:71: in scrape_step\n    context.parse_result = CollectData.run()\nuk_bin_collection/uk_bin_collection/collect_data.py:78: in run\n    return self.client_code(\nuk_bin_collection/uk_bin_collection/collect_data.py:65: in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:71: in template_method\n    bin_data_dict = self.parse_data(\nuk_bin_collection/uk_bin_collection/councils/WestLothianCouncil.py:39: in parse_data\n    inputElement_postcode = WebDriverWait(driver, 30).until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"8fde2787fc3c121862565bf491e9b026\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x7f40a0ff6480>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       #0 0x5636139b95e3 <unknown>\nE       #1 0x56361367c0b7 <unknown>\nE       #2 0x5636136c9f53 <unknown>\nE       #3 0x5636136ca051 <unknown>\nE       #4 0x56361370f9c4 <unknown>\nE       #5 0x5636136f0f1d <unknown>\nE       #6 0x56361370cb3d <unknown>\nE       #7 0x5636136f0cc3 <unknown>\nE       #8 0x5636136bc0e4 <unknown>\nE       #9 0x5636136bd0ae <unknown>\nE       #10 0x56361397fce1 <unknown>\nE       #11 0x563613983b7e <unknown>\nE       #12 0x56361396d4b5 <unknown>\nE       #13 0x5636139847d6 <unknown>\nE       #14 0x563613950dbf <unknown>\nE       #15 0x5636139a7748 <unknown>\nE       #16 0x5636139a7917 <unknown>\nE       #17 0x5636139b8773 <unknown>\nE       #18 0x7efdc4e94ac3 <unknown>\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","steps":[{"name":"Given the council: WestLothianCouncil","time":{"start":1701882663441,"stop":1701882663442,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When we scrape the data from WestLothianCouncil using local and the http://selenium:4444 is set","time":{"start":1701882663442,"stop":1701882698342,"duration":34900},"status":"failed","statusMessage":"Message: \nStacktrace:\n#0 0x5636139b95e3 <unknown>\n#1 0x56361367c0b7 <unknown>\n#2 0x5636136c9f53 <unknown>\n#3 0x5636136ca051 <unknown>\n#4 0x56361370f9c4 <unknown>\n#5 0x5636136f0f1d <unknown>\n#6 0x56361370cb3d <unknown>\n#7 0x5636136f0cc3 <unknown>\n#8 0x5636136bc0e4 <unknown>\n#9 0x5636136bd0ae <unknown>\n#10 0x56361397fce1 <unknown>\n#11 0x563613983b7e <unknown>\n#12 0x56361396d4b5 <unknown>\n#13 0x5636139847d6 <unknown>\n#14 0x563613950dbf <unknown>\n#15 0x5636139a7748 <unknown>\n#16 0x5636139a7917 <unknown>\n#17 0x5636139b8773 <unknown>\n#18 0x7efdc4e94ac3 <unknown>\n","statusTrace":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x5636139b95e3 <unknown>\n#1 0x56361367c0b7 <unknown>\n#2 0x5636136c9f53 <unknown>\n#3 0x5636136ca051 <unknown>\n#4 0x56361370f9c4 <unknown>\n#5 0x5636136f0f1d <unknown>\n#6 0x56361370cb3d <unknown>\n#7 0x5636136f0cc3 <unknown>\n#8 0x5636136bc0e4 <unknown>\n#9 0x5636136bd0ae <unknown>\n#10 0x56361397fce1 <unknown>\n#11 0x563613983b7e <unknown>\n#12 0x56361396d4b5 <unknown>\n#13 0x5636139847d6 <unknown>\n#14 0x563613950dbf <unknown>\n#15 0x5636139a7748 <unknown>\n#16 0x5636139a7917 <unknown>\n#17 0x5636139b8773 <unknown>\n#18 0x7efdc4e94ac3 <unknown>\n\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"host","value":"fv-az698-253"},{"name":"thread","value":"2733-MainThread"},{"name":"framework","value":"pytest-bdd"},{"name":"language","value":"cpython3"},{"name":"feature","value":"Test each council output matches expected results"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"council","value":"WestLothianCouncil"},{"name":"selenium_mode","value":"local"},{"name":"selenium_url","value":"http://selenium:4444"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":53,"unknown":0,"total":55},"items":[{"uid":"8e6bd17a519f809a","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1199//#testresult/8e6bd17a519f809a","status":"passed","time":{"start":1701825647192,"stop":1701825655228,"duration":8036}},{"uid":"c00562a558673434","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1198//#testresult/c00562a558673434","status":"passed","time":{"start":1701795683340,"stop":1701795690188,"duration":6848}},{"uid":"ba27881c94503c6d","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1197//#testresult/ba27881c94503c6d","status":"passed","time":{"start":1701795616552,"stop":1701795624190,"duration":7638}},{"uid":"f58172b7ddf5ebf1","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1193//#testresult/f58172b7ddf5ebf1","status":"passed","time":{"start":1701758625257,"stop":1701758632907,"duration":7650}},{"uid":"7571cf6061b19a1d","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1192//#testresult/7571cf6061b19a1d","status":"passed","time":{"start":1701758630836,"stop":1701758637608,"duration":6772}},{"uid":"ba5bc8118dc19620","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1191//#testresult/ba5bc8118dc19620","status":"passed","time":{"start":1701739308852,"stop":1701739315875,"duration":7023}},{"uid":"1962ca82b40fb010","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1187//#testresult/1962ca82b40fb010","status":"passed","time":{"start":1701714475947,"stop":1701714483069,"duration":7122}},{"uid":"9197191ba03d35d9","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1184//#testresult/9197191ba03d35d9","status":"passed","time":{"start":1701652863213,"stop":1701652871050,"duration":7837}},{"uid":"9e854d327675e8bf","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1183//#testresult/9e854d327675e8bf","status":"passed","time":{"start":1701566744921,"stop":1701566772663,"duration":27742}},{"uid":"4aeda290784289b2","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1182//#testresult/4aeda290784289b2","status":"passed","time":{"start":1701479863519,"stop":1701479870302,"duration":6783}},{"uid":"7feb9d3da54a1163","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1179//#testresult/7feb9d3da54a1163","status":"passed","time":{"start":1701419153639,"stop":1701419160770,"duration":7131}},{"uid":"c38f0a29ed95c3b8","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1181//#testresult/c38f0a29ed95c3b8","status":"passed","time":{"start":1701419175030,"stop":1701419186680,"duration":11650}},{"uid":"790595d95c8311b","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1180//#testresult/790595d95c8311b","status":"passed","time":{"start":1701419130102,"stop":1701419137217,"duration":7115}},{"uid":"6a5b0932fc0efc71","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1176//#testresult/6a5b0932fc0efc71","status":"passed","time":{"start":1701419021002,"stop":1701419034959,"duration":13957}},{"uid":"849e7ce955c2f776","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1177//#testresult/849e7ce955c2f776","status":"passed","time":{"start":1701419028516,"stop":1701419038109,"duration":9593}},{"uid":"1c6cfebe469e732e","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1175//#testresult/1c6cfebe469e732e","status":"passed","time":{"start":1701414478380,"stop":1701414503859,"duration":25479}},{"uid":"dfdf54e33dd8effe","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1173//#testresult/dfdf54e33dd8effe","status":"passed","time":{"start":1701394105602,"stop":1701394113979,"duration":8377}},{"uid":"b15093f5fecfa949","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1169//#testresult/b15093f5fecfa949","status":"passed","time":{"start":1701353485831,"stop":1701353493723,"duration":7892}},{"uid":"56450ab83bc2042e","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1170//#testresult/56450ab83bc2042e","status":"passed","time":{"start":1701353504758,"stop":1701353511973,"duration":7215}},{"uid":"b9e5418533f680a1","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/1163//#testresult/b9e5418533f680a1","status":"passed","time":{"start":1701307249328,"stop":1701307256809,"duration":7481}}]},"tags":[]},"source":"d0056b412128666d.json","parameterValues":["WestLothianCouncil","local","http://selenium:4444"]}